(this.webpackJsonpviakiss=this.webpackJsonpviakiss||[]).push([[0],{32:function(t,e){},33:function(t,e){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},42:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(21),c=n.n(s),i=(n(42),n(24)),o=n(27),u=n(17),j=n(23),l=n(52),b=n(51),d=n(14),m="viakissKeyboardPattern/SET_MESSAGE",O=(Object(l.a)(m),Object(d.b)({message:""})()),p=Object(b.a)(Object(j.a)({},m,(function(t,e){var n=e.payload;return t.set("message",n)})),O),h=Object(u.b)({viakissKeyboardPattern:p}),f=function(){var t=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();return Object(u.c)(h,t)}(),v=n(9),x=n(10),g=n(12),y=n(11),k=n(3),S=(n(32),n(4)),C=n(35),P=n.n(C),T=n(18),w=n.n(T),E=n(36),N=n.n(E),_=n(1),D=w.a.bind(N.a),F=function(t){Object(g.a)(n,t);var e=Object(y.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){var t=this.props,e=t.progress,n=t.max,a=t.text,r=100*e/n,s=null===a?"".concat(r,"%"):a;return Object(_.jsxs)("div",{className:D("progress-bar-wrap"),children:[Object(_.jsx)("div",{className:D("progress"),style:{width:"".concat(r,"%")}}),Object(_.jsx)("div",{className:D("text"),children:s})]})}}]),n}(a.Component);F.defaultProps={progress:0,max:1,text:null};var L=F,M=w.a.bind(P.a),A=Object(d.b)({text:"",state:"ready"}),I=function(t){Object(g.a)(n,t);var e=Object(y.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){var t=this.props.item,e=t.text,n=t.state;return Object(_.jsx)("div",{className:M("pattern",n),children:e})}}]),n}(a.Component);I.defaultProps={item:{text:"",state:"ready"}};var R=function(t){Object(g.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={items:Object(d.a)([]),inputCount:0,result:"",run:!1,remainTime:0},t.startTime=0,t.timeFlag=!1,t.timerAnimation=null,t.initPatterns=function(){for(var e=t.props.textLength,n=[],a=0;a<e;a++)n[a]=A({});t.setState(Object(S.a)(Object(S.a)({},t.state),{},{items:Object(d.a)(n)}))},t.resetPatterns=function(){for(var e=t.props,n=e.patterns,a=e.textLength,r=[],s=0;s<a;s++)r[s]=A({text:n[Math.floor(Math.random()*n.length)],state:0===s?"current":"ready"});t.setState(Object(S.a)(Object(S.a)({},t.state),{},{items:Object(d.a)(r)}))},t.handleResult=function(e){e?t.setState(Object(S.a)(Object(S.a)({},t.state),{},{result:"success"})):t.setState(Object(S.a)(Object(S.a)({},t.state),{},{result:"failure"})),t.timeFlag=!0,t.handleStop()},t.handlePatternCheck=function(e){var n=t.state,a=n.items,r=n.inputCount;if(n.run&&r<a.size&&!t.timeFlag)if(a.get(r).text===e){var s=a.update(r,(function(t){return t.set("state","success")}));r+1<a.size&&(s=s.update(r+1,(function(t){return t.set("state","current")}))),t.setState(Object(S.a)(Object(S.a)({},t.state),{},{items:s})),r===a.size-1?t.handleResult(!0):t.setState(Object(S.a)(Object(S.a)({},t.state),{},{inputCount:r+1}))}else t.handleResult(!1)},t.handleStart=function(){t.resetPatterns(),t.startTime=Date.now(),t.timeFlag=!1,t.timerAnimation=setInterval((function(){var e=t.props.maxTime,n=Date.now();t.startTime+e<=n?t.handleStop():t.setState(Object(S.a)(Object(S.a)({},t.state),{},{remainTime:n-t.startTime}))}),50),t.setState(Object(S.a)(Object(S.a)({},t.state),{},{inputCount:0,run:!0,result:""}))},t.handleStop=function(){t.setState(Object(S.a)(Object(S.a)({},t.state),{},{remainTime:0,run:!1})),t.timeFlag=!0,clearInterval(t.timerAnimation)},t.keyDown=function(e){var n=t.props.patterns,a=t.state.run,r=String.fromCharCode(e.keyCode).toUpperCase();n.includes(r)?t.handlePatternCheck(r):" "===r&&(a?t.handleStop():t.handleStart())},t.renderPatterns=function(){return t.state.items.map((function(t,e){return Object(_.jsx)(I,{item:t},e)}))},t.renderMessage=function(){var e=t.state,n=e.run,a=e.result;return n||""!==a?""!==a?Object(_.jsxs)("div",{className:M("message",a),children:["success"===a&&"\uc131\uacf5!","failure"===a&&"\uc2e4\ud328..."]}):null:Object(_.jsx)("div",{className:M("message"),children:"Space \ub97c \ub20c\ub7ec \uc2dc\uc791 \ud574\uc8fc\uc138\uc694"})},t}return Object(x.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.keyDown),this.initPatterns()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.keyDown)}},{key:"render",value:function(){var t=this.props.maxTime,e=this.state.remainTime;return Object(_.jsxs)("div",{className:M("pattern-view-wrap"),children:[Object(_.jsx)("div",{className:M("key-patterns"),children:this.renderPatterns()}),Object(_.jsx)("div",{className:M("timer-progress"),children:Object(_.jsx)(L,{progress:t-e,max:t,text:"".concat(((t-e)/1e3).toFixed(1),"\ucd08")})}),this.renderMessage()]})}}]),n}(a.Component);R.defaultProps={patterns:"QWEASD",textLength:8,maxTime:4e3};var U=R,X=(n(33),n(37)),z=n.n(X),K=w.a.bind(z.a),B=function(t){var e=t.keyboardPattern;return Object(_.jsx)("div",{className:K("viakiss-keyboard-pattern-template"),children:Object(_.jsx)("div",{className:K("keyboard-pattern"),children:e})})},J=function(t){Object(g.a)(n,t);var e=Object(y.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(B,{keyboardPattern:Object(_.jsx)(U,{})})})}}]),n}(a.Component),V=Object(i.b)((function(t){return{message:t.viakissKeyboardPattern.message}}))(J),W=function(t){t.location.serach,t.match;return Object(_.jsx)(V,{})},G=function(t){Object(g.a)(n,t);var e=Object(y.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(k.a,{path:"/",component:W})})}}]),n}(a.Component),Q=function(){return Object(_.jsx)(o.a,{children:Object(_.jsx)(i.a,{store:f,children:Object(_.jsx)(G,{})})})},q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),s(t),c(t)}))};c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Q,{})}),document.getElementById("root")),q()}},[[49,1,2]]]);
//# sourceMappingURL=main.bc4cad65.chunk.js.map